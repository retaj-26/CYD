<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SDC â€” Cyber Challenge</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#030305;
    --panel:#071017;
    --neon-green:#00ff99;
    --neon-purple:#8b5cf6;
    --accent:linear-gradient(90deg,var(--neon-green),var(--neon-purple));
    --text:#dfeef2;
    --muted:rgba(223,238,242,0.12);
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    height:100%;min-height:100vh;background:var(--bg);color:var(--text);
    font-family:'Cairo','Share Tech Mono',monospace;
    display:flex;align-items:center;justify-content:center;padding:28px;
  }

  .card{
    width:100%;max-width:980px;border-radius:18px;padding:24px;position:relative;
    background:rgba(255,255,255,0.015);
    border:1px solid rgba(255,255,255,0.03);
    box-shadow:0 12px 48px rgba(0,0,0,0.65);
    overflow:hidden;
  }
  #matrixCanvas{position:absolute;inset:0;z-index:0;opacity:0.08;pointer-events:none}
  .header{position:relative;z-index:2;display:flex;gap:14px;align-items:center;margin-bottom:18px}
  .logo{
    width:64px;height:64px;display:flex;align-items:center;justify-content:center;
    border-radius:12px;background:rgba(255,255,255,0.02);
    border:1px solid rgba(255,255,255,0.04);
    box-shadow:0 0 22px rgba(0,255,153,0.05);
  }
  .logo .text{color:var(--neon-green);font-family:'Share Tech Mono';font-size:15px;font-weight:700}
  h1{font-size:22px;margin:0}
  p.lead{font-size:13px;color:rgba(223,238,242,0.85)}
  .content{position:relative;z-index:2;display:flex;gap:24px}
  .left{flex:1}
  .right{width:350px;display:flex;flex-direction:column;gap:14px}
  .console{
    background:rgba(0,0,0,0.4);
    border-radius:10px;padding:16px;height:340px;overflow:auto;
    border:1px solid rgba(0,255,153,0.05);
    backdrop-filter:blur(4px);
  }
  .console pre{white-space:pre-wrap;word-break:break-word;font-size:14px;line-height:1.5;font-family:'Share Tech Mono'}
  .input-area{margin-top:12px;display:flex;gap:10px}
  input[type="text"]{
    flex:1;padding:12px;border-radius:8px;
    background:rgba(0,0,0,0.55);
    border:1px solid rgba(255,255,255,0.05);
    color:var(--text);outline:none;
  }
  input:focus{box-shadow:0 6px 20px rgba(139,92,246,0.06);border-color:rgba(139,92,246,0.28)}
  .btn{
    padding:10px 18px;border-radius:8px;border:none;cursor:pointer;
    background:var(--accent);color:#021022;font-weight:700;
    box-shadow:0 6px 22px rgba(0,255,153,0.12);
    transition:.12s;
  }
  .btn:active{transform:translateY(2px)}
  .right .panel{
    background:rgba(255,255,255,0.02);
    border-radius:12px;padding:18px;
    border:1px solid rgba(255,255,255,0.03);
  }
  .status{text-align:center;padding:12px;border-radius:8px;background:rgba(0,0,0,0.45)}
  .status.success{border:1px solid rgba(0,255,153,0.1);box-shadow:0 0 18px rgba(0,255,153,0.08)}
  .status.fail{border:1px solid rgba(255,80,80,0.1);box-shadow:0 0 18px rgba(255,80,80,0.08)}
  .big{font-size:16px;color:var(--neon-green);font-weight:800}
  .small{font-size:13px;color:rgba(223,238,242,0.85)}
  .meme img{width:100%;max-height:150px;border-radius:8px;object-fit:cover;margin-top:10px}
  .meme .err{margin-top:10px;font-size:13px;color:rgba(255,255,255,0.5);text-align:center}
  .actions{display:flex;gap:10px;margin-top:12px}
  .action-btn{
    padding:10px 12px;border-radius:8px;cursor:pointer;
    background:rgba(0,0,0,0.35);color:var(--text);
    border:1px solid var(--muted);transition:.12s;
  }
  .action-btn:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(139,92,246,0.06)}
  .reveal{margin-top:10px;padding:12px;border-radius:8px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.04);display:none}
  .footer{text-align:center;font-size:12px;color:rgba(255,255,255,0.25);margin-top:auto}
  @media(max-width:900px){.content{flex-direction:column}.right{width:100%}.console{height:260px}}
</style>
</head>
<body>
<div class="card" role="main" aria-labelledby="title">
  <canvas id="matrixCanvas" aria-hidden="true"></canvas>
  <div class="header" role="banner">
    <div class="logo" aria-hidden="true"><div class="text">{SDC}</div></div>
    <div><h1 id="title">CTF Challenge</h1><p class="lead">Ø£Ø¯Ø®Ù„ Ø§Ù„ÙÙ„Ø§Ù‚Ø² ÙˆØ­Ø§ÙˆÙ„ ØªØ«Ø¨Øª Ù†ÙØ³Ùƒ âš¡</p></div>
  </div>

  <div class="content">
    <div class="left">
      <div class="console" id="console" aria-live="polite"><pre id="consoleText">ØªÙ†Ø¨ÙŠÙ‡: Ø§Ù„ÙÙ„Ø§Ù‚ Ø­Ø³Ø§Ø³ Ù„Ù„Ø­Ø±ÙˆÙ ÙˆØ§Ù„Ù…Ø³Ø§ÙØ§Øª.</pre></div>

      <div class="input-area" aria-label="Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙÙ„Ø§Ù‚">
        <input id="flagInput" type="text" placeholder="SDC{1_2_3}" aria-label="Ø­Ù‚Ù„ Ø§Ù„ÙÙ„Ø§Ù‚" />
        <button id="submitBtn" class="btn" aria-label="ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙÙ„Ø§Ù‚">ØªØ­Ù‚Ù‚</button>
      </div>

      <div class="actions" role="group" aria-label="Ø§Ù„Ø£Ø²Ø±Ø§Ø±">
        <button id="showTextBtn" class="action-btn" aria-pressed="false">Ø¹Ø±Ø¶ Ø§Ù„Ù†Øµ</button>
        <button id="openWebBtn" class="action-btn">ÙØªØ­ Ù…ÙˆÙ‚Ø¹</button>
        <button id="openImgBtn" class="action-btn">Ø¹Ø±Ø¶ ØµÙˆØ±Ø©</button>
      </div>

      <div id="revealText" class="reveal" aria-live="polite"></div>
    </div>

    <div class="right panel" aria-label="Ù„ÙˆØ­Ø© Ø§Ù„Ø­Ø§Ù„Ø©">
      <div id="statusBox" class="status" role="status" aria-live="polite">
        <div class="big">Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ù‚Ù‚...</div>
        <div class="small">Ø£Ø¯Ø®Ù„ Ø§Ù„ÙÙ„Ø§Ù‚ ÙˆØ§Ø¶ØºØ· ØªØ­Ù‚Ù‚</div>
      </div>
      <div id="memeArea" class="meme" aria-hidden="false"></div>
      <div class="footer">SDC â€¢ ØªØµÙ…ÙŠÙ… Ù‡Ø§ÙƒØ±ÙŠ Ù„Ù„ØªØ¯Ø±ÙŠØ¨</div>
    </div>
  </div>
</div>

<script>
/* ======= CONFIG (Ù…Ù…Ù†ÙˆØ¹ ØªØºÙŠÙŠØ± Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø¥Ø°Ø§ Ù…Ø§ Ø·Ù„Ø¨Øª) ======= */
const CONFIG={
  FLAG:"SDC{Cyber_DEFENDER_31s}",
  BUTTON_WEB_URL:"https://retaj-26.github.io/31_web/",
  BUTTON_IMAGE_URL:"https://imgur.com/a/j5Vc0j3",
  BUTTON_TEXT_CONTENT:"SDC{Part_2_is_ -.. . ..-. . -. -.. . .-.}",
  SUCCESS_GIFS:[
    "https://media.giphy.com/media/26tPplGWjN0xLybiU/giphy.gif",
    "https://media.giphy.com/media/3o7TKx2aPq0QKQh6Uy/giphy.gif"
  ],
  FAIL_GIFS:[
    "https://media.giphy.com/media/3o7aD2saalBwwftBIY/giphy.gif",
    "https://media.giphy.com/media/14uQ3cOFteDaU/giphy.gif"
  ]
};

/* ======= Ø§Ø®ØªØµØ§Ø±Ø§Øª ======= */
const $ = id => document.getElementById(id);
const consoleText = $('consoleText');
const consoleBox = $('console');

/* ======= ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø§Ù„Ù€ console Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø© ======= */
function log(msg){
  const now = new Date().toLocaleTimeString();
  consoleText.textContent += `\n[${now}] > ${msg}`;
  consoleBox.scrollTop = consoleBox.scrollHeight;
}

/* ======= ØªØ­Ù…ÙŠÙ„ Ù…Ø³Ø¨Ù‚ Ù„Ù„Ù€ GIFs (ÙŠØ¹Ø·ÙŠ Ø§Ù†Ø·Ø¨Ø§Ø¹ Ø£Ø³Ø±Ø¹) ======= */
function preloadImages(urls, onComplete){
  let loaded = 0;
  const imgs = [];
  if(!urls || !urls.length){ onComplete(imgs); return; }
  urls.forEach((u, i) => {
    const im = new Image();
    im.onload = im.onerror = () => {
      loaded++;
      if(loaded === urls.length) onComplete(imgs);
    };
    im.src = u;
    imgs[i] = im;
  });
}

/* ======= Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù„ÙˆØ­Ø© Ù…Ø¹ ØªØ­Ù‚Ù‚ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© ======= */
function updateStatus(type, title, text, gifUrl){
  const box = $('statusBox');
  box.className = 'status ' + type;
  box.innerHTML = `<div class="big">${title}</div><div class="small">${text}</div>`;
  const meme = $('memeArea');
  meme.innerHTML = ''; // ØªÙØ±ÙŠØº
  if(!gifUrl){
    meme.innerHTML = '';
    return;
  }
  // Ù†Ø¬Ø±Ø¨ Ù†Ø­Ù…Ù‘Ù„ Ø§Ù„ØµÙˆØ±Ø© ÙˆÙ†Ø¹Ø±Ø¶Ù‡Ø§ Ø£Ùˆ Ù†Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ Ø¥Ø°Ø§ ÙØ´Ù„Øª
  const img = new Image();
  img.onload = () => {
    img.alt = title;
    img.setAttribute('role','img');
    meme.appendChild(img);
  };
  img.onerror = () => {
    const e = document.createElement('div');
    e.className = 'err';
    e.textContent = 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©. Ø§ÙØªØ­Ù‡Ø§ ÙÙŠ Ø§Ù„ØªØ¨ÙˆÙŠØ¨.';
    meme.appendChild(e);
  };
  img.src = gifUrl;
}

/* ======= Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ§Ù„Ø³Ù„ÙˆÙƒ ======= */
$('submitBtn').addEventListener('click', () => {
  const val = $('flagInput').value.trim();
  if(!val){ log('Ø§ÙƒØªØ¨ Ø´ÙŠ Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ù‚Ù‚!'); return; }

  log('Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙÙ„Ø§Ù‚...');
  if(val === CONFIG.FLAG){
    const gif = CONFIG.SUCCESS_GIFS[Math.floor(Math.random()*CONFIG.SUCCESS_GIFS.length)];
    updateStatus('success','Ù†Ø¬Ø­ Ø§Ù„ØªØ­Ù‚Ù‚! ğŸ”¥','Ù‡Ø°ÙŠ Ù‡ÙŠ Ø§Ù„ÙÙ„Ø§Ù‚Ø² Ø§Ù„ØµØ­ â€” ØªØ¯Ø±ÙŠØ¨ Ù…Ù…ØªØ§Ø²!', gif);
    log('ÙÙ„Ø§Ù‚ ØµØ­ÙŠØ­ âœ…');
  } else {
    const gif = CONFIG.FAIL_GIFS[Math.floor(Math.random()*CONFIG.FAIL_GIFS.length)];
    updateStatus('fail','ØºÙ„Ø·! ):', 'Ù…Ùˆ ÙƒØ°Ø§ØŒ Ø¬Ø±Ù‘Ø¨ Ù…Ø±Ù‘Ø© Ø«Ø§Ù†ÙŠØ©', gif);
    log('ÙÙ„Ø§Ù‚ Ø®Ø§Ø·Ø¦ âŒ');
  }
});

// Ø¯Ø¹Ù… Ø§Ù„Ø¶ØºØ· Enter
$('flagInput').addEventListener('keydown', (e) => {
  if(e.key === 'Enter') $('submitBtn').click();
});

// Ø²Ø± Ø¹Ø±Ø¶ Ø§Ù„Ù†Øµ (ÙŠØ³ØªØ®Ø¯Ù… textContent Ù„Ù„Ø­Ù…Ø§ÙŠØ©)
$('showTextBtn').addEventListener('click', () => {
  const box = $('revealText');
  const shown = box.style.display === 'block';
  box.style.display = shown ? 'none' : 'block';
  box.textContent = CONFIG.BUTTON_TEXT_CONTENT;
  $('showTextBtn').setAttribute('aria-pressed', !shown);
  log('ØªÙ… ' + (shown ? 'Ø¥Ø®ÙØ§Ø¡' : 'Ø¹Ø±Ø¶') + ' Ø§Ù„Ù†Øµ.');
});

// ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹ (ÙŠÙØªØ­ ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯)
$('openWebBtn').addEventListener('click', () => {
  try{
    window.open(CONFIG.BUTTON_WEB_URL, '_blank');
    log('ØªÙ… ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯.');
  }catch(e){
    log('ÙØ´Ù„ ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹ â€” Ø­Ø§ÙˆÙ„ Ù†Ø³Ø®Ù‡ ÙˆÙ„ØµÙ‚Ù‡ ÙŠØ¯ÙˆÙŠØ§Ù‹.');
  }
});

// ÙØªØ­ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© (ÙŠÙØ¨Ù‚ÙŠ Ø§Ù„Ø±Ø§Ø¨Ø· ÙƒÙ…Ø§ Ù‡Ùˆ)
$('openImgBtn').addEventListener('click', () => {
  try{
    window.open(CONFIG.BUTTON_IMAGE_URL, '_blank');
    log('ØªÙ… ÙØªØ­ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯.');
  }catch(e){
    log('ÙØ´Ù„ ÙØªØ­ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© â€” Ø­Ø§ÙˆÙ„ Ù†Ø³Ø®Ù‡ ÙˆÙ„ØµÙ‚Ù‡ ÙŠØ¯ÙˆÙŠØ§Ù‹.');
  }
});

/* ======= preload GIFs Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ¬Ø±Ø¨Ø© ======= */
preloadImages(CONFIG.SUCCESS_GIFS.concat(CONFIG.FAIL_GIFS), () => {
  log('Ø§Ù„Ù€ GIFs Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø¹Ø±Ø¶ (Ù…Ø­Ù…Ù„Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹ Ø£Ùˆ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ØªØ­Ù…ÙŠÙ„).');
});

/* ======= Matrix rain canvas Ù…Ø­Ø³Ù‘Ù† ======= */
(function matrix(){
  const canvas = $('matrixCanvas');
  const ctx = canvas.getContext('2d');
  let width = 0, height = 0, drops = [], cols = 0;
  const letterSize = 12;

  function resize(){
    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¯Ù‚Ø© Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¶Ø¨Ø§Ø¨ÙŠØ© Ø¹Ù„Ù‰ Ø´Ø§Ø´Ø§Øª Ø¹Ø§Ù„ÙŠØ© DPI
    const rect = canvas.getBoundingClientRect();
    const ratio = window.devicePixelRatio || 1;
    width = rect.width;
    height = rect.height;
    canvas.width = Math.floor(width * ratio);
    canvas.height = Math.floor(height * ratio);
    canvas.style.width = width + 'px';
    canvas.style.height = height + 'px';
    ctx.setTransform(ratio, 0, 0, ratio, 0, 0);

    cols = Math.max(2, Math.floor(width / letterSize));
    drops = new Array(cols).fill(0).map(() => Math.random() * height);
  }

  function draw(){
    ctx.fillStyle = 'rgba(3,3,5,0.06)';
    ctx.fillRect(0,0,width,height);
    ctx.fillStyle = 'rgba(0,255,153,0.15)';
    ctx.font = `${letterSize}px monospace`;

    for(let i=0;i<drops.length;i++){
      const ch = Math.random() < 0.5 ? '0' : '1';
      ctx.fillText(ch, i * letterSize, drops[i]);
      if(drops[i] > height && Math.random() > 0.975) drops[i] = 0;
      drops[i] += letterSize;
    }
    requestAnimationFrame(draw);
  }

  window.addEventListener('resize', () => { resize(); });
  resize();
  draw();
})();

/* ======= Ù…Ù„Ø§Ø­Ø¸Ø© Ø£Ø®ÙŠØ±Ø© ======= */
log('Ø¬Ø§Ù‡Ø² â€” Ø§Ø¯Ø®Ù„ Ø§Ù„ÙÙ„Ø§Ù‚ ÙˆØ§Ø¶ØºØ· ØªØ­Ù‚Ù‚. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ØªÙØªØ­ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙƒÙ…Ø§ Ù‡ÙŠ ÙˆÙ„Ø§ ÙŠØªÙ… ØªØºÙŠÙŠØ±Ù‡Ø§.');
</script>
</body>
</html>
